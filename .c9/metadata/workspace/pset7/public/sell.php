{"filter":false,"title":"sell.php","tooltip":"/pset7/public/sell.php","undoManager":{"mark":64,"position":64,"stack":[[{"start":{"row":51,"column":127},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":52,"column":0},"end":{"row":52,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"remove","lines":["            ",""],"id":3},{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"insert","lines":["            CS50::query(\"UPDATE users SET cash = cash + ? WHERE id = ?\",$_POST[\"shares\"] * $company[\"price\"], $_SESSION[\"id\"]);",""]}],[{"start":{"row":52,"column":12},"end":{"row":52,"column":127},"action":"remove","lines":["CS50::query(\"UPDATE users SET cash = cash + ? WHERE id = ?\",$_POST[\"shares\"] * $company[\"price\"], $_SESSION[\"id\"]);"],"id":4},{"start":{"row":52,"column":12},"end":{"row":52,"column":173},"action":"insert","lines":["CS50::query(\"INSERT IGNORE INTO users (username, hash, cash) VALUES(?, ?, 10000.0000)\", $_POST[\"username\"], password_hash($_POST[\"password\"], PASSWORD_DEFAULT));"]}],[{"start":{"row":52,"column":44},"end":{"row":52,"column":49},"action":"remove","lines":["users"],"id":5},{"start":{"row":52,"column":44},"end":{"row":52,"column":45},"action":"insert","lines":["h"]}],[{"start":{"row":52,"column":45},"end":{"row":52,"column":46},"action":"insert","lines":["i"],"id":6}],[{"start":{"row":52,"column":46},"end":{"row":52,"column":47},"action":"insert","lines":["s"],"id":7}],[{"start":{"row":52,"column":47},"end":{"row":52,"column":48},"action":"insert","lines":["t"],"id":8}],[{"start":{"row":52,"column":48},"end":{"row":52,"column":49},"action":"insert","lines":["o"],"id":9}],[{"start":{"row":52,"column":49},"end":{"row":52,"column":50},"action":"insert","lines":["r"],"id":10}],[{"start":{"row":52,"column":50},"end":{"row":52,"column":51},"action":"insert","lines":["y"],"id":11}],[{"start":{"row":47,"column":12},"end":{"row":48,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":48,"column":0},"end":{"row":48,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":48,"column":8},"end":{"row":52,"column":36},"action":"insert","lines":["\"transaction\" => $row[\"transaction\"],","            \"datetime\" => $row[\"datetime\"],","            \"symbol\" => $row[\"symbol\"],","            \"shares\" => $row[\"shares\"],","            \"price\" => $row[\"price\"]"],"id":13}],[{"start":{"row":57,"column":53},"end":{"row":57,"column":61},"action":"remove","lines":["username"],"id":14},{"start":{"row":57,"column":53},"end":{"row":57,"column":64},"action":"insert","lines":["transaction"]}],[{"start":{"row":57,"column":66},"end":{"row":57,"column":70},"action":"remove","lines":["hash"],"id":15},{"start":{"row":57,"column":66},"end":{"row":57,"column":72},"action":"insert","lines":["symbol"]}],[{"start":{"row":57,"column":73},"end":{"row":57,"column":80},"action":"insert","lines":["symbol,"],"id":16}],[{"start":{"row":57,"column":80},"end":{"row":57,"column":81},"action":"remove","lines":[" "],"id":17}],[{"start":{"row":57,"column":80},"end":{"row":57,"column":81},"action":"insert","lines":[" "],"id":18}],[{"start":{"row":57,"column":73},"end":{"row":57,"column":74},"action":"insert","lines":[" "],"id":19}],[{"start":{"row":57,"column":74},"end":{"row":57,"column":80},"action":"remove","lines":["symbol"],"id":20},{"start":{"row":57,"column":74},"end":{"row":57,"column":80},"action":"insert","lines":["shares"]}],[{"start":{"row":57,"column":82},"end":{"row":57,"column":86},"action":"remove","lines":["cash"],"id":21},{"start":{"row":57,"column":82},"end":{"row":57,"column":87},"action":"insert","lines":["price"]}],[{"start":{"row":48,"column":8},"end":{"row":52,"column":36},"action":"remove","lines":["\"transaction\" => $row[\"transaction\"],","            \"datetime\" => $row[\"datetime\"],","            \"symbol\" => $row[\"symbol\"],","            \"shares\" => $row[\"shares\"],","            \"price\" => $row[\"price\"]"],"id":22}],[{"start":{"row":48,"column":4},"end":{"row":48,"column":8},"action":"remove","lines":["    "],"id":23}],[{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"remove","lines":["    "],"id":24}],[{"start":{"row":47,"column":12},"end":{"row":48,"column":0},"action":"remove","lines":["",""],"id":25}],[{"start":{"row":52,"column":102},"end":{"row":52,"column":107},"action":"remove","lines":["10000"],"id":26}],[{"start":{"row":52,"column":102},"end":{"row":52,"column":103},"action":"remove","lines":["."],"id":27}],[{"start":{"row":52,"column":102},"end":{"row":52,"column":103},"action":"remove","lines":["0"],"id":28}],[{"start":{"row":52,"column":102},"end":{"row":52,"column":103},"action":"remove","lines":["0"],"id":29}],[{"start":{"row":52,"column":102},"end":{"row":52,"column":103},"action":"remove","lines":["0"],"id":30}],[{"start":{"row":52,"column":102},"end":{"row":52,"column":103},"action":"remove","lines":["0"],"id":31}],[{"start":{"row":52,"column":102},"end":{"row":52,"column":103},"action":"insert","lines":["?"],"id":32}],[{"start":{"row":52,"column":103},"end":{"row":52,"column":104},"action":"insert","lines":[","],"id":33}],[{"start":{"row":52,"column":104},"end":{"row":52,"column":105},"action":"insert","lines":[" "],"id":34}],[{"start":{"row":52,"column":105},"end":{"row":52,"column":106},"action":"insert","lines":["?"],"id":35}],[{"start":{"row":52,"column":96},"end":{"row":52,"column":97},"action":"remove","lines":["?"],"id":36},{"start":{"row":52,"column":96},"end":{"row":52,"column":97},"action":"insert","lines":["s"]}],[{"start":{"row":52,"column":97},"end":{"row":52,"column":98},"action":"insert","lines":["e"],"id":37}],[{"start":{"row":52,"column":98},"end":{"row":52,"column":99},"action":"insert","lines":["l"],"id":38}],[{"start":{"row":52,"column":99},"end":{"row":52,"column":100},"action":"insert","lines":["l"],"id":39}],[{"start":{"row":52,"column":113},"end":{"row":52,"column":131},"action":"remove","lines":["$_POST[\"username\"]"],"id":40},{"start":{"row":52,"column":113},"end":{"row":52,"column":130},"action":"insert","lines":["$_POST[\"company\"]"]}],[{"start":{"row":52,"column":132},"end":{"row":52,"column":164},"action":"remove","lines":["password_hash($_POST[\"password\"]"],"id":41},{"start":{"row":52,"column":132},"end":{"row":52,"column":147},"action":"insert","lines":["_POST[\"shares\"]"]}],[{"start":{"row":52,"column":149},"end":{"row":52,"column":165},"action":"remove","lines":["PASSWORD_DEFAULT"],"id":42},{"start":{"row":52,"column":149},"end":{"row":52,"column":166},"action":"insert","lines":["$company[\"price\"]"]}],[{"start":{"row":52,"column":132},"end":{"row":52,"column":133},"action":"insert","lines":["%"],"id":44}],[{"start":{"row":52,"column":132},"end":{"row":52,"column":133},"action":"remove","lines":["%"],"id":45}],[{"start":{"row":52,"column":132},"end":{"row":52,"column":133},"action":"insert","lines":["$"],"id":46}],[{"start":{"row":52,"column":111},"end":{"row":52,"column":170},"action":"remove","lines":[", $_POST[\"company\"], $_POST[\"shares\"], $company[\"price\"]));"],"id":49}],[{"start":{"row":52,"column":111},"end":{"row":52,"column":112},"action":"insert","lines":[")"],"id":50}],[{"start":{"row":52,"column":112},"end":{"row":52,"column":113},"action":"insert","lines":[";"],"id":52}],[{"start":{"row":52,"column":111},"end":{"row":52,"column":170},"action":"insert","lines":[", $_POST[\"company\"], $_POST[\"shares\"], $company[\"price\"]));"],"id":53}],[{"start":{"row":52,"column":169},"end":{"row":52,"column":170},"action":"remove","lines":[";"],"id":54}],[{"start":{"row":52,"column":169},"end":{"row":52,"column":170},"action":"remove","lines":[")"],"id":55}],[{"start":{"row":52,"column":111},"end":{"row":52,"column":168},"action":"remove","lines":[", $_POST[\"company\"], $_POST[\"shares\"], $company[\"price\"])"],"id":56}],[{"start":{"row":52,"column":111},"end":{"row":52,"column":168},"action":"insert","lines":[", $_POST[\"company\"], $_POST[\"shares\"], $company[\"price\"])"],"id":57}],[{"start":{"row":52,"column":167},"end":{"row":52,"column":168},"action":"remove","lines":[")"],"id":58}],[{"start":{"row":52,"column":100},"end":{"row":52,"column":101},"action":"insert","lines":["'"],"id":59}],[{"start":{"row":52,"column":96},"end":{"row":52,"column":97},"action":"insert","lines":["'"],"id":60}],[{"start":{"row":51,"column":127},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":61},{"start":{"row":52,"column":0},"end":{"row":52,"column":12},"action":"insert","lines":["            "]}],[{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"remove","lines":["            ",""],"id":62},{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"insert","lines":["            CS50::query(\"INSERT IGNORE INTO history (user_id, transaction, symbol, shares, price) VALUES(?, 'buy', ?, ?, ?)\", $_SESSION[\"id\"], strtoupper ($_POST[\"symbol\"]), $_POST[\"shares\"], $stock[\"price\"]);",""]}],[{"start":{"row":53,"column":53},"end":{"row":53,"column":62},"action":"insert","lines":["user_id, "],"id":63}],[{"start":{"row":53,"column":105},"end":{"row":53,"column":106},"action":"insert","lines":["?"],"id":64}],[{"start":{"row":53,"column":106},"end":{"row":53,"column":107},"action":"insert","lines":[","],"id":65}],[{"start":{"row":53,"column":107},"end":{"row":53,"column":108},"action":"insert","lines":[" "],"id":66}],[{"start":{"row":53,"column":126},"end":{"row":53,"column":127},"action":"insert","lines":[" "],"id":67}],[{"start":{"row":53,"column":127},"end":{"row":53,"column":142},"action":"insert","lines":["$_SESSION[\"id\"]"],"id":68}],[{"start":{"row":53,"column":142},"end":{"row":53,"column":143},"action":"insert","lines":[","],"id":69}],[{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"remove","lines":["            CS50::query(\"INSERT IGNORE INTO history (user_id, transaction, symbol, shares, price) VALUES(?, 'buy', ?, ?, ?)\", $_SESSION[\"id\"], strtoupper ($_POST[\"symbol\"]), $_POST[\"shares\"], $stock[\"price\"]);",""],"id":70}]]},"ace":{"folds":[],"scrolltop":420,"scrollleft":0,"selection":{"start":{"row":50,"column":136},"end":{"row":50,"column":155},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":29,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1461086867941,"hash":"3ffcbfab7614d98ea96cb4205c3dd645cb79de30"}